!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(a){return a.replace(/(\*\*|__|~~)(\S(?:[\s\S]*?\S)?)\1/g,function(a,b,c){return"~~"===b?"<del>"+c+"</del>":"<b>"+c+"</b>"}).replace(/(\n|^|\W)([_\*])(\S(?:[\s\S]*?\S)?)\2(\W|$|\n)/g,function(a,b,c,d,e){return b+"<i>"+d+"</i>"+e}).replace(/(!?)\[([^\]<>]+)\]\((\+?)([^ \)<>]+)(?: "([^\(\)\"]+)")?\)/g,function(a,c,d,e,f,g){var h=g?' title="'+g+'"':"";return c?'<img src="'+b.href(f)+'" alt="'+d+'"'+h+"/>":(e&&(h+=' target="_blank"'),'<a href="'+b.href(f)+'"'+h+">"+d+"</a>")})}var b=function(c){return c.replace(/.+(?:\n.+)*/g,function(c){var d=/^\s{4}([^]*)$/.exec(c);if(d)return"<pre><code>"+d[1].replace(/\n    /g,"\n")+"</code></pre>";for(var e,f=[],g=a(c).split("\n"),h=0,i=g.length;i>h;++h){var j=g[h],k=/^\s{0,3}(\#{1,6})\s+(.*?)\s*#*\s*$/.exec(j);if(k)f.push(e=[k[2],"h",k[1].length]);else{var l=/^(\s*)(?:[-*]|(\d[.)])) (.+)$/.exec(j);l?f.push(e=[l[3],l[2]?"ol":"ul",l[1].length]):/^\s{0,3}([-])(\s*\1){2,}\s*$/.test(j)?f.push(e=["","hr"]):e&&"hr"!==e[1]&&"h"!==e[1]?e[0]+="\n"+j:f.push(e=[j,"p",""])}}var m="",n=[];for(h=0,i=f.length;i>h;++h){e=f[h];var o=e[0],p=e[1],q=e[2];if("ul"===p||"ol"===p)!n.length||q>n[0][1]?(n.unshift([p,q]),m+="<"+n[0][0]+"><li>"+o):n.length>1&&q<=n[1][1]?(m+="</li></"+n.shift()[0]+">",--h):m+="</li><li>"+o;else{for(;n.length;)m+="</li></"+n.shift()[0]+">";m+="hr"===p?"<hr/>":"<"+p+q+b.headAttrs(q,o)+">"+o+"</"+p+q+">"}}for(;n.length;)m+="</li></"+n.shift()[0]+">";return m})};return b.href=function(a){return a},b.headAttrs=function(a,b){return""},b});