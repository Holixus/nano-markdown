!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(a){return a.replace(/(\*\*|__|~~)(\S(?:[\s\S]*?\S)?)\1/g,function(a,b,c){return"~~"===b?"<del>"+c+"</del>":"<b>"+c+"</b>"}).replace(/(\n|^|\W)([_\*])(\S(?:[\s\S]*?\S)?)\2(\W|$|\n)/g,function(a,b,c,d,e){return b+"<i>"+d+"</i>"+e}).replace(/(!?)\[([^\]<>]+)\]\((\+?)([^ \)<>]+)(?: "([^\(\)\"]+)")?\)/g,function(a,c,d,e,f,g){var h=g?' title="'+g+'"':"";return c?'<img src="'+b.href(f)+'" alt="'+d+'"'+h+"/>":(e&&(h+=' target="_blank"'),'<a href="'+b.href(f)+'"'+h+">"+d+"</a>")})}var b=function(c){return c.replace(/.+(?:\n.+)*/g,function(c){var d=/^\s{4}([^]*)$/.exec(c);if(d)return"<pre><code>"+d[1].replace(/\n    /g,"\n")+"</code></pre>";for(var e,f=[],g=a(c).split("\n"),h=0,i=g.length;i>h;++h){var j=g[h],k=/^\s{0,3}(\#{1,6})\s+(.*?)\s*#*\s*$/.exec(j);if(k)f.push(e=[k[2],"h",k[1].length]);else{var l=/^(\s*)(?:[-*]|(\d[.)])) (.+)$/.exec(j);if(l)f.push(e=[l[3],l[2]?"ol":"ul",l[1].length]);else{var m=/^\s{0,3}([-])(\s*\1){2,}\s*$/.exec(j);m?f.push(e=["","hr"]):e&&"hr"!==e[1]&&"h"!==e[1]?e[0]+="\n"+j:f.push(e=[j,"p",""])}}}for(var n="",o=[],h=0,i=f.length;i>h;++h){var e=f[h],p=e[0],q=e[1],r=e[2];if("ul"===q||"ol"===q)!o.length||r>o[0][1]?(o.unshift([q,r]),n+="<"+o[0][0]+"><li>"+p):o.length>1&&r<=o[1][1]?(n+="</li></"+o.shift()[0]+">",--h):n+="</li><li>"+p;else{for(;o.length;)n+="</li></"+o.shift()[0]+">";n+="hr"===q?"<hr/>":"<"+q+r+b.headAttrs(r,p)+">"+p+"</"+q+r+">"}}for(;o.length;)n+="</li></"+o.shift()[0]+">";return n})};return b.href=function(a){return a},b.headAttrs=function(){return""},b});